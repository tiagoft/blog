
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>What does “hypothesis testing” mean? &#8212; Tiago&#39;s Blog</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'hypothesis-testing';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Tiago's Blog - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Tiago's Blog - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to my blog!
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="pvalues.html">What do t-tests and their p-values mean?</a></li>












<li class="toctree-l1"><a class="reference internal" href="abtest.html">P-Values for A/B conversion tests and machine learning classifier comparisons using the Binomial test</a></li>



</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/tiagoft/blog" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/tiagoft/blog/issues/new?title=Issue%20on%20page%20%2Fhypothesis-testing.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/hypothesis-testing.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>What does “hypothesis testing” mean?</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tl-dr-a-quick-hypothesis-testing-framework">TL,DR: a quick hypothesis testing framework</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-hypothesis-testing-anyway">What is hypothesis testing, anyway?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-data">Collecting data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-null-hypothesis">The Null Hypothesis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-do-we-need-a-null-hypothesis">Why do we need a Null Hypothesis?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-p-value">The p-value</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-alternative-hypothesis">The Alternative Hypothesis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-significance-level-alpha">The significance level <span class="math notranslate nohighlight">\(\alpha\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#is-a-low-p-value-all-you-need">Is a low p-value all you need?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#in-conclusion">In conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="what-does-hypothesis-testing-mean">
<h1>What does “hypothesis testing” mean?<a class="headerlink" href="#what-does-hypothesis-testing-mean" title="Link to this heading">#</a></h1>
<p>Hypothesis testing is an important part of science. There are many texts about it, about p-values, about null hypotheses, and so on, which try to explain what these concepts are and avoid their misuse. Some texts are meant to be read by mathematicians, others by healthcare researchers, others by social science researchers, and they are all correct in their own way.</p>
<p>In this text, I assume you are acquainted with:</p>
<ul class="simple">
<li><p>Statistics in Python (<code class="docutils literal notranslate"><span class="pre">scipy.stats</span></code>)</p></li>
<li><p>Conditional probabilities</p></li>
<li><p>The Central Limit Theorem</p></li>
</ul>
<p>I addressed the following questions:</p>
<ul class="simple">
<li><p>What is hypothesis testing?</p></li>
<li><p>How to setup a quick hypothesis test</p></li>
<li><p>What is a null hypothesis and why is it needed?</p></li>
<li><p>What is an alternative hypothesis</p></li>
<li><p>What are one-tailed and two-tailed tests</p></li>
<li><p>What is a p-value</p></li>
<li><p>What is the significance level <span class="math notranslate nohighlight">\(\alpha\)</span></p></li>
<li><p>How to interpret p-values</p></li>
</ul>
<p>This is a somewhat long text. If you find something that could be clarified, please send me a message.</p>
<section id="tl-dr-a-quick-hypothesis-testing-framework">
<h2>TL,DR: a quick hypothesis testing framework<a class="headerlink" href="#tl-dr-a-quick-hypothesis-testing-framework" title="Link to this heading">#</a></h2>
<p>If you are on a rush and need to prepare a hypothesis test in the next few minutes, you could well use the following recipe:</p>
<ol class="arabic simple">
<li><p>Find the <em>status-quo</em> parameter <span class="math notranslate nohighlight">\(\theta_0\)</span> (this is usually a mean <span class="math notranslate nohighlight">\(\mu_0\)</span>, but theory does allow for other parameters)</p></li>
<li><p>Estimate a new parameter <span class="math notranslate nohighlight">\(\theta_1\)</span>, which, again, is usually an estimate of the mean <span class="math notranslate nohighlight">\(\mu_1\)</span> in your experimental group.</p></li>
<li><p>Define a Null Hypothesis <span class="math notranslate nohighlight">\(H_0: \theta_0 = \theta_1\)</span>.</p></li>
<li><p>Define an Alternative Hypothesis <span class="math notranslate nohighlight">\(H_1: \theta_0 \neq \theta_1\)</span></p></li>
<li><p>Define a significance level <span class="math notranslate nohighlight">\(\alpha\)</span>, which is usually 5%.</p></li>
<li><p>Calculate the p-value, which is <span class="math notranslate nohighlight">\(P(\text{data is as extreme or more extreme as the observation} | H_0)\)</span></p></li>
<li><p>If the p-value is lower than <span class="math notranslate nohighlight">\(\alpha\)</span>, reject <span class="math notranslate nohighlight">\(H_0\)</span> in favor of <span class="math notranslate nohighlight">\(H_1\)</span></p></li>
<li><p>Else, you have failed to reject <span class="math notranslate nohighlight">\(H_0\)</span> and your data cannot challenge the status-quo.</p></li>
</ol>
<p>In terms of code, this could be as simple as:</p>
<p><code class="docutils literal notranslate"><span class="pre">st.ttest_1samp(experimental_sample,</span> <span class="pre">mu0)</span></code></p>
<p>However, you might be asking yourself <em>why</em> do we perform each of these steps. This is far from trivial and there are many perspectives to this problem, and many ways to explain it. Keep on reading for one of the possible perspectives to the problem.</p>
</section>
<section id="what-is-hypothesis-testing-anyway">
<h2>What is hypothesis testing, anyway?<a class="headerlink" href="#what-is-hypothesis-testing-anyway" title="Link to this heading">#</a></h2>
<p>Let’s take for example a measurement of the weights of lettuces. According to a quick Google search, lettuces weight around 300g, but they could easily go around 250g or 350g. Because I don’t know much about lettuces, I will just assume that regular lettuce weights follow a Normal distribution with <span class="math notranslate nohighlight">\(\mu=300\)</span> and <span class="math notranslate nohighlight">\(\sigma=50\)</span>.</p>
<p>Now let’s suppose I decided to grow some lettuces with a non-standard technique. This is a different population from the standard one because I purposefully intervented onto it. Now we have two groups: the <em>control</em> group, which used the standard technique, and the <em>experimental</em> group, which used the non-standard technique.</p>
<p>We usually know things about the control group because they are well-established, but we don’t know much about the experimental group because its conditions are a novelty. Hence, we will need to estimate parameters for the experimental group. How do we do this?</p>
</section>
<section id="collecting-data">
<h2>Collecting data<a class="headerlink" href="#collecting-data" title="Link to this heading">#</a></h2>
<p>As a non-agricultural person, I have no idea how to actually grow lettuces other than planting seeds, watering them, and hoping they will grow. There is obviously more to that, but in this text we are more interested in the data that comes out of this experiment than in the details of lettuce crops. We should weight some lettuces of the experimental group, which will get us the following <em>measurements</em>:</p>
<ul class="simple">
<li><p>A sample mean <span class="math notranslate nohighlight">\(\bar{x} = \hat{\mu_e}\)</span></p></li>
<li><p>A sample standard deviation <span class="math notranslate nohighlight">\(s = \hat{\sigma_e}\)</span></p></li>
<li><p>A sample size N</p></li>
</ul>
<p>We don’t have direct access to these other parameters, but we suppose they exist:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mu_e\)</span>, the model mean for the experimental group. We only have access to <span class="math notranslate nohighlight">\(\bar{x}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma_e\)</span>, the model standard deviation for the experiment. We only have access to <span class="math notranslate nohighlight">\(s\)</span>.</p></li>
</ul>
<p>Now, we are starting to get somewhere!</p>
</section>
<section id="the-null-hypothesis">
<h2>The Null Hypothesis<a class="headerlink" href="#the-null-hypothesis" title="Link to this heading">#</a></h2>
<p>We have some sample measurements in the experimental group. It’s likely that these sample statistics are a bit different from the model statistics from the control group. However, because the experimental group has samples, they could hypothetically have been generated under the model parameters of the control group.</p>
<p>That would actually be a problem, because it would mean that the experimental group and the control group follow the same statistics, and hence are not discernible. In other words, it would mean that our novel non-standard lettuce growing technique is not different from the standard one. We are especially interested in findind differences between the population means <span class="math notranslate nohighlight">\(\mu\)</span> and <span class="math notranslate nohighlight">\(\mu_e\)</span>, because they represent the expected values for lettuce weights.</p>
<p>So, let’s suppose <span class="math notranslate nohighlight">\(\mu=\mu_e\)</span>. In this case, <span class="math notranslate nohighlight">\(\bar{x}\)</span> is a bit of an extreme observation, in the sense that it is a bit far from the model mean <span class="math notranslate nohighlight">\(\mu\)</span>. This leads to our <em>null</em> hypothesis:</p>
<div class="math notranslate nohighlight">
\[
H_0: \mu = \mu_e, 
\]</div>
<p>that is, we will begin with the hypothesis the both model means are equal.</p>
</section>
<section id="why-do-we-need-a-null-hypothesis">
<h2>Why do we need a Null Hypothesis?<a class="headerlink" href="#why-do-we-need-a-null-hypothesis" title="Link to this heading">#</a></h2>
<p>The idea of a Null Hypothesis comes from a philosophical view of science that is commonly linked to Karl Popper. According to Popper, if we are to <em>prove</em> something, then we have to analyze it in all possible angles and possibilities, which is impossible. However, if we are to <em>disprove</em> something, we only need no gather any kind of evidence against it.</p>
<p>For this reason, hypothesis testing starts with a Null Hypothesis <span class="math notranslate nohighlight">\(H_0\)</span> which mathematically models the idea that there is nothing relevant happening in our experiment (that is: <span class="math notranslate nohighlight">\(\mu=\mu_e\)</span>). If we are able to gather evidence against <span class="math notranslate nohighlight">\(H_0\)</span>, then we can <em>reject</em> it. Likewise, for the reasons Popper stated, we can never <em>accept</em> the null - we can only <em>fail to reject</em> it.</p>
<p>To gather evidence agains the Null, we use…</p>
</section>
<section id="the-p-value">
<h2>The p-value<a class="headerlink" href="#the-p-value" title="Link to this heading">#</a></h2>
<p>The <em>p-value</em> measures how likely is our observation data under the hypothesis that <span class="math notranslate nohighlight">\(\mu=\mu_e\)</span>. If our observations are very unlikely, we could use them as evidence against the null hypothesis. Hence, assuming the null hypothesis as true, we will calculate the probability of observing a sample at least as extreme as <span class="math notranslate nohighlight">\(\bar{x}\)</span>.</p>
<p>If we use the Central Limit Theorem and assume Normal distributions all around, what we would get is that, assuming the Null Hypothesis is true, the sample mean in the experimental group follows a distribution:</p>
<div class="math notranslate nohighlight">
\[
\bar{X} \sim N(\mu, \sigma^2/N)
\]</div>
<p>so, for a sample of size <span class="math notranslate nohighlight">\(N=10\)</span> lettuces, we would have:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">mu</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">sigma</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">xbar</span> <span class="o">=</span> <span class="mi">350</span>
<span class="n">sigma_xbar</span> <span class="o">=</span> <span class="n">sigma</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">st</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">xbar</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma_xbar</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0007827011290012509
</pre></div>
</div>
</div>
</div>
<p>This means that, if the Null Hypothesis (<span class="math notranslate nohighlight">\(H_0\)</span>) is true, and if our modelling afterwards makes sense, we have a probability <span class="math notranslate nohighlight">\(P(\bar{X} \geq \bar{x} | \mu_e = \mu) = 7 \times 10^{-4}\)</span>. This is called a <em>p-value</em>.</p>
<p>One common practice to deal with this question is to pre-define a level <span class="math notranslate nohighlight">\(\alpha\)</span> which is called <em>significance level</em>. If the p-value is below <span class="math notranslate nohighlight">\(\alpha\)</span>, then we call our effect <em>statistically significant</em> and we <em>reject</em> the Null Hypothesis. Why do we need this?</p>
</section>
<section id="the-alternative-hypothesis">
<h2>The Alternative Hypothesis<a class="headerlink" href="#the-alternative-hypothesis" title="Link to this heading">#</a></h2>
<p>When we calculated our p-value, we used the line:</p>
<p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">=</span> <span class="pre">1-st.norm.cdf(xbar,</span> <span class="pre">loc=mu,</span> <span class="pre">scale=sigma_xbar)</span></code>,</p>
<p>which calculates <span class="math notranslate nohighlight">\(P(\bar{X} \geq \bar{x} | \mu_e=\mu)\)</span>. This is because our alternative hypothesis is that <span class="math notranslate nohighlight">\(\mu_e &gt; \mu\)</span>. This alternative hypothesis only makes sense if we <em>know</em> that <span class="math notranslate nohighlight">\(\mu_e\)</span> cannot be lower than <span class="math notranslate nohighlight">\(\mu\)</span> - and this entirely depends on how confident we are in our novelty lettuce growing technique.</p>
<p>Another possible alternative hypothesis would be <span class="math notranslate nohighlight">\(\mu_e \neq \mu\)</span>. In this case, we would have to consider extreme observations in both sides of the Normal curve, thus our p-value would be twice the one we had previously calculated. These different approaches are often called <em>one-sided</em> and <em>two-sided</em> tests.</p>
<p>In general, we would write the alternative hypothesis as one of the following:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
H_1: \mu &lt; \mu_e \text{ (for a one-sided test)}\\
H_1: \mu &gt; \mu_e \text{ (for a one-sided test)}\\
H_1: \mu \neq \mu_e \text{ (for a two-sided test)}\\
\end{split}\]</div>
<p>In the code above, we could change the p-value for a <em>two-sided</em> test using:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">mu</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">sigma</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">xbar</span> <span class="o">=</span> <span class="mi">350</span>
<span class="n">sigma_xbar</span> <span class="o">=</span> <span class="n">sigma</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">st</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">xbar</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma_xbar</span><span class="p">))</span>
<span class="c1"># If xbar &lt; mu, we should use:</span>
<span class="c1"># p = 2*st.norm.cdf(xbar, loc=mu, scale=sigma_xbar)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0015654022580025018
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-significance-level-alpha">
<h2>The significance level <span class="math notranslate nohighlight">\(\alpha\)</span><a class="headerlink" href="#the-significance-level-alpha" title="Link to this heading">#</a></h2>
<p>When we perform a test, there are two possibilities for the <em>reality</em>: either <span class="math notranslate nohighlight">\(H_0\)</span> is true or it is not true. Also, there are two possibilities for our actions: we either reject <span class="math notranslate nohighlight">\(H_0\)</span> or we don’t reject them.</p>
<p>Now, let’s assume <span class="math notranslate nohighlight">\(H_0\)</span> is true.</p>
<p>In this case, the p-value is a random variable with a Uniform distribution between 0 and 1. This is because <span class="math notranslate nohighlight">\(H_0\)</span> means we know the process that generated the observation, and p-values are estimated using the estimating CDFs for samples of that distribution. Check the code below for a more algorithmic view on this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The p-value is a random variable with uniform distribution</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Distribution parameters - you might change this</span>
<span class="n">mu</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">sigma</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># Generate observations under H0</span>
<span class="n">observations</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">)</span>

<span class="c1"># Calculate two-tailed p-values for the observations</span>
<span class="n">p_values</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">observations</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">),</span> <span class="mi">1</span><span class="o">-</span><span class="n">st</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">observations</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">p_values</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/65f99fc963faec4bd497f08826aa35862f0b40c5804f4d284ded997c6fdc8eff.png" src="_images/65f99fc963faec4bd497f08826aa35862f0b40c5804f4d284ded997c6fdc8eff.png" />
</div>
</div>
<p>Ok, so this shows that, if <span class="math notranslate nohighlight">\(H_0\)</span> is true, the p-value has a uniform distribution between 0 and 1 (this holds for any distribution - just go ahead and test it!). Consequently, there is only a probability <span class="math notranslate nohighlight">\(\alpha\)</span> that the p-value is lower than <span class="math notranslate nohighlight">\(\alpha\)</span>. Henceforth, if <span class="math notranslate nohighlight">\(H_0\)</span> is true, there is a probability <span class="math notranslate nohighlight">\(\alpha\)</span> that the we get a p-value equal or lower to <span class="math notranslate nohighlight">\(\alpha\)</span>, or <span class="math notranslate nohighlight">\(P(p &lt; \alpha | H_0)\)</span>.</p>
<p>Because of its probabilistic nature, when we decide to reject the Null, there is a chance we are wrong. In this case, we had a <em>false positive</em>, also known as a <em>Type-1 Error</em>. The probability that we made a type-1 error is the significance level <span class="math notranslate nohighlight">\(\alpha\)</span>.</p>
<p>Importantly, this discussion only regards <em>false positives</em>, or <em>false rejections of <span class="math notranslate nohighlight">\(H_0\)</span></em>. If <span class="math notranslate nohighlight">\(H_0\)</span> was, in fact, false, than none of this discussion applies.</p>
</section>
<section id="is-a-low-p-value-all-you-need">
<h2>Is a low p-value all you need?<a class="headerlink" href="#is-a-low-p-value-all-you-need" title="Link to this heading">#</a></h2>
<p>We could want lower p-values. However, remember that p-values only refer to their corresponding null hypothesis. In our case, the p-values refer to the hypothesis that <span class="math notranslate nohighlight">\(\mu=\mu_e\)</span>.</p>
<p>Hence, rejecting the null hypothesis means that our observations indicate that <span class="math notranslate nohighlight">\(\mu\)</span> is not <em>strictly</em> equal to <span class="math notranslate nohighlight">\(\mu_e\)</span>. It says absolutely nothing about how different they are. In fact, we would need an effect size analysis for this, which is a whole different problem.</p>
<p>An interesting experiment is the following. If you go back to the code above and insanely increase the sample size, you will observe that <span class="math notranslate nohighlight">\(p\)</span> quickly drops. This is one of the techniques for the so-called <em>p-value hacking</em>.</p>
<p>Although low p-values can make your boss, your funding agency, and ultimately yourself very happy, there is more to that. Effects can be statistically significant, but their practical significance should be evaluated as well. For example, we could well observe a very low p-value with a mean difference of 1g between lettuce crops, which represents less than half of a typical lettuce leaf… perhaps it is not even worth trying it in practice!</p>
</section>
<section id="in-conclusion">
<h2>In conclusion<a class="headerlink" href="#in-conclusion" title="Link to this heading">#</a></h2>
<p>Hypothesis testing is a very important, yet very misinterpreted part of science. This text was a short review on that, and hopefully a useful one. The next step from here is to build a repertoire of tests that are useful in your field - perhaps start with the t-test?</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tl-dr-a-quick-hypothesis-testing-framework">TL,DR: a quick hypothesis testing framework</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-hypothesis-testing-anyway">What is hypothesis testing, anyway?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-data">Collecting data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-null-hypothesis">The Null Hypothesis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-do-we-need-a-null-hypothesis">Why do we need a Null Hypothesis?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-p-value">The p-value</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-alternative-hypothesis">The Alternative Hypothesis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-significance-level-alpha">The significance level <span class="math notranslate nohighlight">\(\alpha\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#is-a-low-p-value-all-you-need">Is a low p-value all you need?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#in-conclusion">In conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tiago
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>